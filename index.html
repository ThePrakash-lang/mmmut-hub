<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MMMUT Study Hub - Electrical Engineering</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #800000; /* MMMUT Maroon */
            --secondary: #FFD700; /* Gold accent */
            --accent: #FF6B6B;
            --light: #f8f9fa;
            --dark: #212529;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f5f5;
            color: #333;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        
        /* Header Styles */
        header {
            background: linear-gradient(135deg, var(--primary) 0%, #600000 100%);
            color: white;
            padding: 1rem 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .logo-container {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px 0;
        }
        
        .logo-img {
            height: 60px;
            margin-right: 15px;
        }
        
        .logo-text {
            text-align: center;
        }
        
        .logo-text h1 {
            font-size: 1.8rem;
            margin: 0;
        }
        
        .logo-text p {
            font-size: 0.9rem;
            margin: 0;
            opacity: 0.9;
        }
        
        /* Navigation */
        nav {
            background-color: rgba(0, 0, 0, 0.2);
            padding: 0.5rem 0;
        }
        
        nav ul {
            display: flex;
            justify-content: center;
            list-style: none;
            flex-wrap: wrap;
            padding: 0;
            margin: 0;
        }
        
        nav ul li {
            margin: 0 1rem;
        }
        
        nav ul li a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            padding: 0.5rem 0;
            position: relative;
        }
        
        nav ul li a:hover {
            color: var(--secondary);
        }
        
        nav ul li a.active {
            color: var(--secondary);
            font-weight: 600;
        }
        
        nav ul li a.active::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 2px;
            background: var(--secondary);
            bottom: 0;
            left: 0;
        }
        
        /* Main Content */
        .main-content {
            display: flex;
            margin: 2rem auto;
            min-height: 70vh;
            flex: 1;
            width: 100%;
        }
        
        /* Page Content */
        .page-content {
            display: none;
            flex: 1;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            margin-right: 1rem;
        }
        
        .page-content.active {
            display: block;
        }
        
        h2 {
            color: var(--primary);
            border-bottom: 2px solid var(--secondary);
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
        }
        
        /* Resource Display Page */
        .filter-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .filter-group {
            flex: 1;
            min-width: 200px;
        }
        
        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #555;
        }
        
        select, input {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: inherit;
        }
        
        /* Resource Cards */
        .resource-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
        }
        
        .resource-card {
            background: white;
            border-radius: 6px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
            transition: all 0.3s;
            border-left: 4px solid var(--primary);
        }
        
        .resource-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .resource-header {
            background: var(--primary);
            color: white;
            padding: 0.8rem 1rem;
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .resource-type {
            background: var(--secondary);
            color: var(--dark);
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .resource-body {
            padding: 1rem;
        }
        
        .resource-meta {
            display: flex;
            justify-content: space-between;
            color: #666;
            font-size: 0.8rem;
            margin-bottom: 0.5rem;
        }
        
        .resource-description {
            margin-bottom: 1rem;
            color: #555;
            font-size: 0.9rem;
        }
        
        .resource-actions {
            display: flex;
            gap: 0.5rem;
        }
        
        .btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
            font-size: 0.9rem;
        }
        
        .btn-primary {
            background: var(--primary);
            color: white;
        }
        
        .btn-primary:hover {
            background: #600000;
        }
        
        .btn-secondary {
            background: var(--secondary);
            color: var(--dark);
        }
        
        .btn-secondary:hover {
            background: #e6c200;
        }
        
        /* Contribution Form */
        .form-group {
            margin-bottom: 1rem;
        }
        
        textarea {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: inherit;
            min-height: 100px;
            resize: vertical;
        }

        /* File upload styles */
        .file-upload {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .file-upload-label {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 1.5rem;
            border: 2px dashed #ddd;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .file-upload-label:hover {
            border-color: var(--primary);
            background-color: rgba(128, 0, 0, 0.05);
        }

        .file-upload-label i {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 0.5rem;
            z-index: 2;
        }

        .file-upload-label span {
            color: #555;
            text-align: center;
            z-index: 2;
        }

        .file-upload-input {
            display: none;
        }

        .file-name {
            margin-top: 0.5rem;
            font-size: 0.9rem;
            color: #666;
        }
        
        .file-error {
            color: red;
            font-size: 0.8rem;
            margin-top: 0.5rem;
        }
        
        /* Footer */
        footer {
            background: var(--primary);
            color: white;
            text-align: center;
            padding: 2rem 0;
            margin-top: 3rem;
        }
        
        .footer-links {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin-bottom: 1rem;
        }
        
        .footer-links a {
            color: white;
            text-decoration: none;
        }
        
        .footer-links a:hover {
            color: var(--secondary);
        }
        
        .copyright {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .lucky-person {
            margin-top: 0.5rem;
            font-style: italic;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .logo-container {
                flex-direction: column;
                text-align: center;
            }
            
            .logo-img {
                margin-right: 0;
                margin-bottom: 10px;
            }
            
            nav ul {
                flex-direction: column;
                align-items: center;
            }
            
            nav ul li {
                margin: 0.3rem 0;
            }
            
            .resource-grid {
                grid-template-columns: 1fr;
            }
            
            .main-content {
                flex-direction: column;
            }
            
            .page-content {
                margin-right: 0;
                margin-bottom: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header with MMMUT Logo -->
    <header>
        <div class="container">
            <div class="logo-container">
                <img src="https://mmmut.ac.in/img/logo.png" alt="MMMUT Logo" class="logo-img">
                <div class="logo-text">
                    <h1>MMMUT Study Hub</h1>
                    <p>Electrical Engineering Resources</p>
                </div>
            </div>
            
            <nav>
                <ul>
                    <li><a href="#" class="nav-link active" data-page="resources">Resources</a></li>
                    <li><a href="#" class="nav-link" data-page="contribute">Contribute</a></li>
                    <li><a href="#" class="nav-link" data-page="about">About</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container main-content">
        <!-- Resources Page -->
        <section class="page-content active" id="resources-page">
            <h2>Study Resources</h2>
            
            <!-- Filter Controls -->
            <div class="filter-controls">
                <div class="filter-group">
                    <label for="semester-filter">Semester</label>
                    <select id="semester-filter">
                        <option value="all">All Semesters</option>
                        <option value="1">1st Semester</option>
                        <option value="2">2nd Semester</option>
                        <option value="3">3rd Semester</option>
                        <option value="4">4th Semester</option>
                        <option value="5">5th Semester</option>
                        <option value="6">6th Semester</option>
                        <option value="7">7th Semester</option>
                        <option value="8">8th Semester</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label for="subject-filter">Subject</label>
                    <select id="subject-filter">
                        <option value="all">All Subjects</option>
                        <!-- Will be populated by JavaScript -->
                    </select>
                </div>
                
                <div class="filter-group">
                    <label for="type-filter">Resource Type</label>
                    <select id="type-filter">
                        <option value="all">All Types</option>
                        <option value="notes">Notes</option>
                        <option value="pyq">PYQs</option>
                        <option value="lab">Lab Manuals</option>
                        <option value="book">Books</option>
                        <option value="other">Other</option>
                    </select>
                </div>
            </div>
            
            <!-- Resource Grid -->
            <div class="resource-grid" id="resource-container">
                <!-- Resources will be loaded here by JavaScript -->
                <p>No resources available yet. Be the first to contribute!</p>
            </div>
        </section>
        
        <!-- Contribute Page -->
        <section class="page-content" id="contribute-page">
            <h2>Contribute Resources</h2>
            <form id="resource-form">
                <div class="form-group">
                    <label for="contribute-semester">Semester*</label>
                    <select id="contribute-semester" required>
                        <option value="">Select Semester</option>
                        <option value="1">1st Semester</option>
                        <option value="2">2nd Semester</option>
                        <option value="3">3rd Semester</option>
                        <option value="4">4th Semester</option>
                        <option value="5">5th Semester</option>
                        <option value="6">6th Semester</option>
                        <option value="7">7th Semester</option>
                        <option value="8">8th Semester</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="contribute-subject">Subject Name*</label>
                    <input type="text" id="contribute-subject" placeholder="e.g., Network Analysis" required>
                </div>
                
                <div class="form-group">
                    <label for="contribute-type">Resource Type*</label>
                    <select id="contribute-type" required>
                        <option value="">Select Type</option>
                        <option value="notes">Notes</option>
                        <option value="pyq">PYQs</option>
                        <option value="lab">Lab Manual</option>
                        <option value="book">Book/Reference</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="contribute-title">Title*</label>
                    <input type="text" id="contribute-title" placeholder="e.g., Network Theorems Notes" required>
                </div>
                
                <div class="form-group">
                    <label for="contribute-description">Description</label>
                    <textarea id="contribute-description" placeholder="Brief description of the resource"></textarea>
                </div>
                
                <div class="form-group">
                    <label>Upload Resource*</label>
                    <div class="file-upload">
                        <label for="resource-file" class="file-upload-label" id="file-upload-label">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <span>Click to upload or drag and drop</span>
                            <span>PDF, DOCX, PPTX, JPG, PNG (Max 10MB)</span>
                        </label>
                        <input type="file" id="resource-file" class="file-upload-input" required accept=".pdf,.docx,.pptx,.jpg,.jpeg,.png">
                        <div id="file-name" class="file-name">No file selected</div>
                        <div id="file-error" class="file-error"></div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="contribute-link">Resource Link (Optional)</label>
                    <input type="url" id="contribute-link" placeholder="https://drive.google.com/...">
                </div>
                
                <div class="form-group">
                    <label for="contribute-author">Your Name (Optional)</label>
                    <input type="text" id="contribute-author" placeholder="Anonymous">
                </div>
                
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-share-square"></i> Submit Resource
                </button>
            </form>
        </section>
        
        <!-- About Page -->
        <section class="page-content" id="about-page">
            <h2>About MMMUT Study Hub</h2>
            <p>This is a collaborative platform for electrical engineering students at Madan Mohan Malaviya University of Technology (MMMUT) to share study resources.</p>
            
            <h3>How It Works</h3>
            <ol>
                <li><strong>Contribute</strong> - Share your notes, PYQs, lab manuals using our simple form</li>
                <li><strong>Discover</strong> - Find resources by semester, subject, and type</li>
                <li><strong>Learn</strong> - Access high-quality study materials from fellow students</li>
            </ol>
            
            <h3>Guidelines</h3>
            <ul>
                <li>Only share materials you have created or have permission to share</li>
                <li>Provide accurate descriptions of your contributions</li>
                <li>Keep the platform focused on academic resources</li>
            </ul>
            
            <div class="btn btn-secondary" id="back-to-resources">
                <i class="fas fa-arrow-left"></i> Back to Resources
            </div>
        </section>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-links">
                <a href="#" class="nav-link" data-page="resources">Resources</a>
                <a href="#" class="nav-link" data-page="contribute">Contribute</a>
                <a href="#" class="nav-link" data-page="about">About</a>
                <a href="https://mmmut.ac.in" target="_blank">MMMUT Official</a>
            </div>
            <p class="copyright">Â© 2025 MMMUT Study Hub | Collaborative Platform by Students</p>
            <p class="lucky-person">For my lucky person</p>
        </div>
    </footer>

    <script>
        // Sample data - starts empty
        let resources = [];
        
        // DOM Elements
        const resourceContainer = document.getElementById('resource-container');
        const semesterFilter = document.getElementById('semester-filter');
        const subjectFilter = document.getElementById('subject-filter');
        const typeFilter = document.getElementById('type-filter');
        const resourceForm = document.getElementById('resource-form');
        const navLinks = document.querySelectorAll('.nav-link');
        const pages = document.querySelectorAll('.page-content');
        const backToResources = document.getElementById('back-to-resources');
        const fileUploadInput = document.getElementById('resource-file');
        const fileNameDisplay = document.getElementById('file-name');
        const fileUploadLabel = document.getElementById('file-upload-label');
        const fileError = document.getElementById('file-error');
        
        // File upload constants
        const MAX_FILE_SIZE = 10 * 1024 * 1024; // 10MB
        const ALLOWED_TYPES = [
            'application/pdf',
            'application/vnd.openxmlformats-officedocument.wordprocessingml.document',
            'application/vnd.openxmlformats-officedocument.presentationml.presentation',
            'image/jpeg',
            'image/png'
        ];
        
        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            // Load all resources
            displayResources(resources);
            
            // Populate subject filter based on semester
            semesterFilter.addEventListener('change', updateSubjectFilter);
            
            // Apply filters when any filter changes
            semesterFilter.addEventListener('change', applyFilters);
            subjectFilter.addEventListener('change', applyFilters);
            typeFilter.addEventListener('change', applyFilters);
            
            // Handle form submission
            resourceForm.addEventListener('submit', handleFormSubmit);
            
            // Navigation between pages
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const pageId = this.getAttribute('data-page');
                    showPage(pageId);
                    
                    // Update active nav link
                    navLinks.forEach(navLink => {
                        navLink.classList.remove('active');
                    });
                    this.classList.add('active');
                });
            });
            
            // Back to resources button
            if (backToResources) {
                backToResources.addEventListener('click', function() {
                    showPage('resources');
                    
                    // Update active nav link
                    navLinks.forEach(navLink => {
                        navLink.classList.remove('active');
                        if (navLink.getAttribute('data-page') === 'resources') {
                            navLink.classList.add('active');
                        }
                    });
                });
            }
            
            // File upload display
            fileUploadInput.addEventListener('change', handleFileUpload);
            
            // Drag and drop functionality
            fileUploadLabel.addEventListener('dragover', (e) => {
                e.preventDefault();
                fileUploadLabel.style.borderColor = 'var(--primary)';
                fileUploadLabel.style.backgroundColor = 'rgba(128, 0, 0, 0.1)';
            });
            
            fileUploadLabel.addEventListener('dragleave', () => {
                fileUploadLabel.style.borderColor = '#ddd';
                fileUploadLabel.style.backgroundColor = '';
            });
            
            fileUploadLabel.addEventListener('drop', (e) => {
                e.preventDefault();
                fileUploadLabel.style.borderColor = '#ddd';
                fileUploadLabel.style.backgroundColor = '';
                
                if (e.dataTransfer.files.length) {
                    fileUploadInput.files = e.dataTransfer.files;
                    handleFileUpload({ target: fileUploadInput });
                }
            });
            
            // Initialize subject filter
            updateSubjectFilter();
        });
        
        // Handle file upload
        function handleFileUpload(e) {
            if (e.target.files.length > 0) {
                const file = e.target.files[0];
                
                // Validate file type
                if (!ALLOWED_TYPES.includes(file.type)) {
                    fileError.textContent = 'Invalid file type. Please upload PDF, DOCX, PPTX, JPG, or PNG.';
                    e.target.value = '';
                    fileNameDisplay.textContent = 'No file selected';
                    fileUploadLabel.style.backgroundImage = '';
                    return;
                }
                
                // Validate file size
                if (file.size > MAX_FILE_SIZE) {
                    fileError.textContent = 'File is too large. Maximum size is 10MB.';
                    e.target.value = '';
                    fileNameDisplay.textContent = 'No file selected';
                    fileUploadLabel.style.backgroundImage = '';
                    return;
                }
                
                fileNameDisplay.textContent = file.name;
                fileError.textContent = '';
                
                // Show preview for images
                if (file.type.startsWith('image/')) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        fileUploadLabel.style.backgroundImage = `url(${e.target.result})`;
                        fileUploadLabel.style.backgroundSize = 'cover';
                        fileUploadLabel.style.backgroundPosition = 'center';
                    };
                    reader.readAsDataURL(file);
                } else {
                    fileUploadLabel.style.backgroundImage = '';
                }
            } else {
                fileNameDisplay.textContent = 'No file selected';
                fileUploadLabel.style.backgroundImage = '';
            }
        }
        
        // Display resources in the grid
        function displayResources(resourcesToDisplay) {
            resourceContainer.innerHTML = '';
            
            if (resourcesToDisplay.length === 0) {
                resourceContainer.innerHTML = '<p>No resources found matching your filters.</p>';
                return;
            }
            
            resourcesToDisplay.forEach(resource => {
                const typeLabels = {
                    'notes': 'Study Notes',
                    'pyq': 'PYQs',
                    'lab': 'Lab Manual',
                    'book': 'Book',
                    'other': 'Resource'
                };
                
                const semesterLabels = {
                    '1': '1st Semester',
                    '2': '2nd Semester',
                    '3': '3rd Semester',
                    '4': '4th Semester',
                    '5': '5th Semester',
                    '6': '6th Semester',
                    '7': '7th Semester',
                    '8': '8th Semester'
                };
                
                const resourceCard = document.createElement('div');
                resourceCard.className = 'resource-card';
                resourceCard.innerHTML = `
                    <div class="resource-header">
                        ${resource.subject}
                        <span class="resource-type">${typeLabels[resource.type] || 'Resource'}</span>
                    </div>
                    <div class="resource-body">
                        <div class="resource-meta">
                            <span>${semesterLabels[resource.semester] || resource.semester + 'th Semester'}</span>
                            <span>${formatDate(resource.date)}</span>
                        </div>
                        <h3>${resource.title}</h3>
                        <p class="resource-description">${resource.description}</p>
                        <div class="resource-actions">
                            ${resource.file ? `
                            <a href="#" class="btn btn-primary" onclick="downloadResource('${resource.id}')">
                                <i class="fas fa-download"></i> Download
                            </a>
                            ` : `
                            <a href="${resource.link || '#'}" target="_blank" class="btn btn-primary">
                                <i class="fas fa-download"></i> Download
                            </a>
                            `}
                            <button class="btn btn-secondary" onclick="shareResource('${resource.title}', '${resource.link || '#'}')">
                                <i class="fas fa-share-alt"></i> Share
                            </button>
                        </div>
                        ${resource.author ? `<p style="margin-top: 0.5rem; font-size: 0.8rem; color: #666;">Contributed by: ${resource.author}</p>` : ''}
                    </div>
                `;
                
                resourceContainer.appendChild(resourceCard);
            });
        }
        
        // Download resource
        function downloadResource(resourceId) {
            const resource = resources.find(r => r.id == resourceId);
            if (!resource) return;
            
            if (resource.fileObject) {
                // For demo purposes - in a real app, you would download from server
                const url = URL.createObjectURL(resource.fileObject);
                const a = document.createElement('a');
                a.href = url;
                a.download = resource.file || 'resource';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            } else if (resource.link) {
                window.open(resource.link, '_blank');
            }
        }
        
        // Update subject filter based on selected semester
        function updateSubjectFilter() {
            const selectedSemester = semesterFilter.value;
            subjectFilter.innerHTML = '<option value="all">All Subjects</option>';
            
            if (selectedSemester === 'all') {
                // Get all unique subjects
                const allSubjects = [...new Set(resources.map(r => r.subject))];
                allSubjects.forEach(subject => {
                    const option = document.createElement('option');
                    option.value = subject;
                    option.textContent = subject;
                    subjectFilter.appendChild(option);
                });
            } else {
                // Get subjects for selected semester
                const semesterSubjects = [...new Set(resources
                    .filter(r => r.semester === selectedSemester)
                    .map(r => r.subject)
                )];
                
                semesterSubjects.forEach(subject => {
                    const option = document.createElement('option');
                    option.value = subject;
                    option.textContent = subject;
                    subjectFilter.appendChild(option);
                });
            }
        }
        
        // Apply all filters
        function applyFilters() {
            const semester = semesterFilter.value;
            const subject = subjectFilter.value;
            const type = typeFilter.value;
            
            let filteredResources = resources;
            
            if (semester !== 'all') {
                filteredResources = filteredResources.filter(r => r.semester === semester);
            }
            
            if (subject !== 'all') {
                filteredResources = filteredResources.filter(r => r.subject === subject);
            }
            
            if (type !== 'all') {
                filteredResources = filteredResources.filter(r => r.type === type);
            }
            
            displayResources(filteredResources);
        }
        
        // Handle form submission
        function handleFormSubmit(e) {
            e.preventDefault();
            
            // Validate file again in case someone bypassed the input change
            if (fileUploadInput.files.length === 0) {
                fileError.textContent = 'Please select a file to upload';
                return;
            }
            
            const file = fileUploadInput.files[0];
            if (!ALLOWED_TYPES.includes(file.type)) {
                fileError.textContent = 'Invalid file type. Please upload PDF, DOCX, PPTX, JPG, or PNG.';
                return;
            }
            
            if (file.size > MAX_FILE_SIZE) {
                fileError.textContent = 'File is too large. Maximum size is 10MB.';
                return;
            }
            
            // Create a unique ID for the resource
            const resourceId = Date.now();
            
            const newResource = {
                id: resourceId,
                semester: document.getElementById('contribute-semester').value,
                subject: document.getElementById('contribute-subject').value,
                type: document.getElementById('contribute-type').value,
                title: document.getElementById('contribute-title').value,
                description: document.getElementById('contribute-description').value,
                file: file.name,
                fileObject: file, // Store the file object for demo purposes
                link: document.getElementById('contribute-link').value || '#',
                author: document.getElementById('contribute-author').value || 'Anonymous',
                date: new Date().toISOString().split('T')[0] // YYYY-MM-DD
            };
            
            // Add to resources array
            resources.unshift(newResource);
            
            // Reset form
            resourceForm.reset();
            fileNameDisplay.textContent = 'No file selected';
            fileUploadLabel.style.backgroundImage = '';
            fileError.textContent = '';
            
            // Show success message and switch to resources page
            alert('Thank you for your contribution! Your resource has been added.');
            showPage('resources');
            
            // Update active nav link
            navLinks.forEach(navLink => {
                navLink.classList.remove('active');
                if (navLink.getAttribute('data-page') === 'resources') {
                    navLink.classList.add('active');
                }
            });
            
            // Refresh display
            updateSubjectFilter();
            applyFilters();
        }
        
        // Show specific page
        function showPage(pageId) {
            pages.forEach(page => {
                page.classList.remove('active');
                if (page.id === `${pageId}-page`) {
                    page.classList.add('active');
                }
            });
        }
        
        // Share resource function
        function shareResource(title, url) {
            if (navigator.share) {
                navigator.share({
                    title: title,
                    url: url
                }).catch(err => {
                    console.log('Error sharing:', err);
                    copyToClipboard(url);
                });
            } else {
                copyToClipboard(url);
            }
        }
        
        // Copy to clipboard
        function copyToClipboard(text) {
            const textarea = document.createElement('textarea');
            textarea.value = text;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            document.body.removeChild(textarea);
            alert('Link copied to clipboard!');
        }
        
        // Format date as DD/MM/YYYY
        function formatDate(dateString) {
            const [year, month, day] = dateString.split('-');
            return `${day}/${month}/${year}`;
        }
    </script>
</body>
</html>